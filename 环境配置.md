# 项目环境配置指南

## 概述

本文档将指导您如何基于项目中提供的 `requirements.txt` 文件创建和管理 Conda 环境。我们将使用 Python 3.8.6 作为固定的 Python 版本。

## 前提条件

1. **安装 Miniconda 或 Anaconda**
   - 如果您尚未安装 Conda，请先下载并安装：
     - [Miniconda 下载](https://docs.conda.io/en/latest/miniconda.html)（推荐，更轻量）
     - [Anaconda 下载](https://www.anaconda.com/products/individual)

2. **验证 Conda 安装**
   ```bash
   conda --version
   ```

## 创建 Conda 环境

### 方法一：使用环境配置文件（推荐）

如果您有 `environment.yml` 文件，可以直接运行：
```bash
conda env create -f environment.yml
```

### 方法二：手动创建并安装依赖

由于本项目仅提供 `requirements.txt` 文件，请按以下步骤操作：

1. **创建新的 Conda 环境**
   ```bash
# 指定使用 conda-forge 频道
    conda create -n SLT_GUI python=3.8.6 -c conda-forge -y
   ```
   - `my_project_env`：环境名称（可自定义）
   - `python=3.8.6`：固定 Python 版本为 3.8.6

2. **激活环境**
   ```bash
   conda activate my_project_env
   ```

3. **安装 requirements.txt 中的依赖**
   ```bash
   pip install -r requirements.txt
   ```

   > **注意**：如果某些包在 PyPI 上不可用或需要 Conda 特定版本，您可能需要使用：
   > ```bash
   > conda install --file requirements.txt
   > ```
   > 但通常 `pip install -r requirements.txt` 在激活的 Conda 环境中工作良好。

## 环境管理常用命令

### 查看所有环境
```bash
conda env list
```

### 激活环境
```bash
conda activate my_project_env
```

### 退出环境
```bash
conda deactivate
```

### 导出环境配置
```bash
# 导出 Conda 环境配置
conda env export > environment.yml

# 仅导出 pip 安装的包（保持 requirements.txt 更新）
pip freeze > requirements.txt
```

### 删除环境
```bash
conda env remove -n my_project_env
```

## 项目结构建议

建议将环境配置文件放在项目根目录：

```
my_project/
├── README.md
├── requirements.txt
├── environment.yml（可选，通过 conda env export 生成）
├── src/
└── ...
```

## 故障排除

### 1. 包版本冲突
如果遇到包版本冲突，尝试：
```bash
conda install --freeze-installed package_name
```

### 2. 清除缓存
```bash
conda clean --all
```

### 3. 创建干净的安装环境
```bash
# 创建空环境再安装
conda create -n fresh_env python=3.8.6
conda activate fresh_env
pip install -r requirements.txt
```

## 最佳实践

1. **定期更新 requirements.txt**
   ```bash
   pip freeze > requirements.txt
   ```

2. **为不同项目创建独立环境**，避免包冲突

3. **使用环境变量**管理项目特定配置

4. **将 environment.yml 和 requirements.txt 纳入版本控制**

## 注意事项

- 本环境使用 **Python 3.8.6**，确保所有依赖与该版本兼容
- 某些包可能需要特定操作系统或系统依赖
- 如遇安装问题，请检查包的官方文档获取特定安装说明

## 支持

如有环境配置问题，请：
1. 检查 Python 版本是否为 3.8.6
2. 确认 Conda 已正确安装并更新
3. 查看错误日志中的具体包安装问题

---

**环境配置完成！** 您现在可以激活 `my_project_env` 环境并开始项目开发。